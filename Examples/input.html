<html>
<head>
<style>
	canvas { 
		border: 1px solid red; 
		/* cursor:none; */
		-webkit-user-select: none;
	}
</style>
</head>
<body>

<canvas id="canvas" width="540" height="480"></canvas>
<input id="fps" type="text"></input>

<script src="../RequestAnimationShim.js"></script>
<script src="../Class.js"></script>
<script src="../Game.js"></script>
<script src="../EntityManager.js"></script>
<script src="../input/MouseKeyboardController.js"></script>
<script src="../Entity.js"></script>
<script src="../Polygon.js"></script>
<script src="../Grid.js"></script>

 <script>

function polyspin(duration, inputManager) {
	this.rotation += 0.02;
	
	if (inputManager.isPressed(inputManager.left)) {
		this.position[0] -= 1;
	}
	
	if (inputManager.isPressed(inputManager.right)) {
		this.position[0] += 1;
	}
	
	if (inputManager.isPressed(inputManager.up)) {
		this.position[1] -= 1;
	}
	
	if (inputManager.isPressed(inputManager.down)) {
		this.position[1] += 1;
	}
	
	if (inputManager.isPressed(inputManager.buttonOne)) {
		this.color = "#f00";
		this.position = inputManager.position();
	}
	
	if (inputManager.isPressed(inputManager.buttonTwo)) {
		this.color = "#0f0";
	}
	
	if (inputManager.isPressed(inputManager.buttonThree)) {
		this.color = "#00f";
	}
	
	this.scale += inputManager.wheelDelta() * 0.2;
}

Game.InputManager = new MouseKeyboardController();
Game.EntityManager.add(new Grid(20));
Game.EntityManager.add(new Polygon([30,30], 0, [-10,10, 10,10, 10,-10, -10,-10], polyspin));
Game.run();

</script>

</body>
</html>

